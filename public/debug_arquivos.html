<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Debug - Arquivos de A√ß√µes</title>
</head>
<body>
    <h1>üîç Debug - Arquivos de A√ß√µes</h1>
    
    <div style="background: #f5f5f5; padding: 15px; margin: 15px 0; border-radius: 5px;">
        <h3>A√ß√µes com Arquivos</h3>
        <div id="acoes"></div>
    </div>
    
    <div style="background: #f5f5f5; padding: 15px; margin: 15px 0; border-radius: 5px;">
        <h3>Teste de URLs</h3>
        <div id="testes"></div>
    </div>

    <script>
        async function carregarAcoes() {
            try {
                // Primeiro fazer login autom√°tico
                await fetch('/login_auto.php');
                
                // Buscar a√ß√µes de um cliente espec√≠fico (assumindo ID 1)
                const response = await fetch('/crm/client/1');
                
                if (response.ok) {
                    document.getElementById('acoes').innerHTML = '‚úÖ Cliente carregado com sucesso!';
                } else {
                    document.getElementById('acoes').innerHTML = '‚ùå Erro ao carregar cliente';
                }
                
                // Testar URLs de arquivos conhecidos
                testarArquivos();
                
            } catch (error) {
                document.getElementById('acoes').innerHTML = '‚ùå Erro: ' + error.message;
            }
        }
        
        async function testarArquivos() {
            const arquivos = [
                'teste_1759371710.txt',
                '68dde12b90bfa_1759371563.jpg',
                '68dddbf32cea8_1759370227.png'
            ];
            
            let html = '';
            
            for (const arquivo of arquivos) {
                const url = `/uploads/actions/${arquivo}`;
                try {
                    const response = await fetch(url);
                    const status = response.ok ? '‚úÖ' : '‚ùå';
                    const statusText = response.status + ' ' + response.statusText;
                    
                    html += `<div>
                        ${status} <a href="${url}" target="_blank">${arquivo}</a> - ${statusText}
                    </div>`;
                } catch (error) {
                    html += `<div>‚ùå ${arquivo} - Erro: ${error.message}</div>`;
                }
            }
            
            document.getElementById('testes').innerHTML = html;
        }
        
        // Carregar ao iniciar
        carregarAcoes();
    </script>
</body>
</html>